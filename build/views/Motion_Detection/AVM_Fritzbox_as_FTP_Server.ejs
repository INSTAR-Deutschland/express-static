<!DOCTYPE html><html ⚡><head> <% include ../_partials/amp/_amp-head.ejs %><link rel="canonical" href="/Motion_Detection/Router_as_a_FTP_Server/AVM_Fritzbox_as_FTP_Server/"></head><body class="home"><amp-sidebar id='sidebar' side='right' layout='nodisplay'> <% include ../_partials/amp/_ampLandingSidebar.ejs %></amp-sidebar><header class="header fixed"> <% include ../_partials/amp/_amp-header.ejs %></header><div class="wrap"><div class="container main"> <% include ../_partials/content/_bluenav-general.ejs %><article class="blade wrapper content"><div><h1>AVM Fritzbox as FTP Server</h1><div class="card-container"><div class="onecard twelve columns"><amp-youtube data-videoid="VVdwTzHIo-8" layout="responsive" width="1280" height="720"></amp-youtube></div></div><p> In the following we want to explore the possibility to use an AVM Fritzbox 7490 as our FTP server. The user interface screenshots will only show the AVM UI. But most of the steps we will take are representative for other routers as well. Each time, you will need to define a FTP user and the corresponding access rights inside the router. Then type in the FTP user credentials and the corresponding FTP directory into your camera´s WebUI.</p></div><div class="margin"><h2>Set up an Upload Directory</h2><p> First we have to set up a directory for your camera´s uploads. Connect an USB thumbdrive or an USB hard drive to the USB port of your router. In case of the Fritzbox simply click on FritzNAS (on top of the screen) to enter the storage overview panel. For other routers it is recommended to check the FTP access with an FTP client like <a href="https://filezilla-project.org/download.php?type=client">Filezilla Client</a> or simply type in <span class="code">ftp://[IP of your router]:21</span> into the address bar of your default web browser. Use the camera login we just created to check available storage. If you are using Firefox, you can use a FTP client extension like <a href="https://addons.mozilla.org/en-US/firefox/addon/fireftp/">FireFTP</a> to create a directory that your camera should use to upload files.</p><p> Once inside the FritzNAS storage overview window, change to your external storage (in our case a ADATA Thumbdrive), click on the New Folder button on top and create a new folder for your camera. Remember the path to your folder as we will have to type it into camera webUI in moment. Be carful not to delete the FRITZ folder, created by your router - if you do, your thumb drive will be unmounted and you have to replug it into the USB Port!</p></div><div class="margin"><amp-img on="tap:FTP-Fritzbox-7490de_04" role="button" tabindex="0" src="/images/Motion_Detection/FTP-Fritzbox-7490de_04.png" width="1018" height="378" layout="responsive" class="shadow"></amp-img><amp-image-lightbox id="FTP-Fritzbox-7490de_04" layout="nodisplay"></amp-image-lightbox><p> Add a directory for your camera on your external storage medium to write her files to.</p></div><div class="margin"><h2>Set up a FTP User</h2><p> First, we have to find the FTP settings inside the router. For most routers that is pretty straight-forward - just search for the keyword FTP. Unfortunately, AVM decided to hide this function with the newer firmwares, causing us a little bit of a headache. Which is partly the reason why we take the Fritzbox router as the example - the other routers will be much easier to set up.</p><p> The FTP are now hidden inside the Fritzbox User (Benutzer) tab under System. Click on Add User (Benutzer Hinzufügen) and give your user a name and password. It is recommended to keep the name and password secure but to stay away from exotic characters, which might cause you some trouble. Especially, if you only use the FTP upload inside your local network and you deactivate the access rights from the internet (Zugang aus dem Internet, s. screenshot below). The only thing your cameras needs to have access to is the network attached storage (Zugang zu NAS-Inhalten, s. below). Click on add a directory (Verzeichnis Hinzufügen) and allow the camera to write onto the supplied storage.</p></div><div class="margin"><amp-img on="tap:FTP-Fritzbox-7490de_01" role="button" tabindex="0" src="/images/Motion_Detection/FTP-Fritzbox-7490de_01.png" width="1001" height="981" layout="responsive" class="shadow"></amp-img><amp-image-lightbox id="FTP-Fritzbox-7490de_01" layout="nodisplay"></amp-image-lightbox><p> Add a FTP user on your router so your camera has access to the network attached storage.</p></div><div class="margin"><amp-img on="tap:FTP-Fritzbox-7490de_02" role="button" tabindex="0" src="/images/Motion_Detection/FTP-Fritzbox-7490de_02.png" width="977" height="985" layout="responsive" class="shadow"></amp-img><amp-image-lightbox id="FTP-Fritzbox-7490de_02" layout="nodisplay"></amp-image-lightbox><p> Choosing Alle an der Fritzbox verfügbaren Speicher allows the camera to write into every directory on your router.</p></div><div class="margin"><p> It is very important, that the user authentication is active on your router - the camera will not be able to upload the files to the storage otherwise. As seen in the screenshots below, you will now have an administrator account to manage your router as well as the pure FTP user for your camera. You can switch to the tab Anmeldung im Heimnetz to confirm that the authentication is active or not... Well, you will already know if you had to login to your router earlier anyway. Check the screenshots below for the Fritzbox example.</p></amp-lightbox></div><div class="margin"><amp-img on="tap:FTP-Fritzbox-7490de_03" role="button" tabindex="0" src="/images/Motion_Detection/FTP-Fritzbox-7490de_03.png" width="995" height="630" layout="responsive" class="shadow"></amp-img><amp-image-lightbox id="FTP-Fritzbox-7490de_03" layout="nodisplay"></amp-image-lightbox><p> Please make sure that you also have a administrator account active and...</p></div><div class="margin"><amp-img on="tap:FTP-Fritzbox-7490de_03-1" role="button" tabindex="0" src="/images/Motion_Detection/FTP-Fritzbox-7490de_03-1.png" width="996" height="505" layout="responsive" class="shadow"></amp-img><amp-image-lightbox id="FTP-Fritzbox-7490de_03-1" layout="nodisplay"></amp-image-lightbox><p> ...the user authentication is activated - this is very important and a common mistake!</p></div><div class="margin"><h2>Connect your Fritzbox as a Network Drive</h2><p>You can map the FTP storage as a network drive for easier file management.</p><div class="card-container margin"><div class="onecard twelve columns"><amp-youtube data-videoid="7bt-V8pPMFU" layout="responsive" width="1280" height="720"></amp-youtube></div></div><div class="card-container margin"><div class="onecard twelve columns"><amp-youtube data-videoid="L3mW2MZuzDE" layout="responsive" width="1280" height="720"></amp-youtube></div></div></div><div class="margin"><h2>Set up your Camera to use the FTP Storage</h2><p> Now we can access our camera to program it to upload files to our new FTP upload directory in case of an alarm event. Open the web user interface of your camera and navigate to ''Alarm/FTP''. The following menu (see 2nd screenshot below) needs to be filled with all the data we just set up inside the router:</p><ul><li><strong>FTP Server</strong>: Is the address of the FTP server. In our case the IP address of our router 192.168.178.1. Please be aware that the IP addresses of routers from different manufactures will vary. Usually it is only the third number that will be different - in most cases it is either 0, 1, 2 or in case of the AVM Fritzbox 178.</li><li><strong>FTP Port</strong>: The default FTP port is 21.</li><li><strong>FTP Folder</strong>: The FTP folder is the upload directory we just set up on our router. Please remember to add a / in front of the folder. If you want to upload to the root directory, just put a / here.</li><li><strong>FTP Username</strong>: Put in the username we just defined inside the router...</li><li><strong>FTP Password</strong>: ... and add the corresponding password.</li><li><strong>FTP Mode</strong>: The default mode for a local FTP server - that isn´t shielded by a NAT firewall - is PASV.</li></ul><p> Afterwards click on Submit and Test to check your inputs. Your camera should give you a Successful notification and if you check your upload directory, you will find a snapshot uploaded by the camera. Now you can activate the FTP upload actions in case of an alarm trigger event, to have the camera upload it snapshots or videos to your FTP server.</p></amp-lightbox></div><div class="twelve columns margin"><h1>Configure your Camera</h1></div><div class="card-container"><div class="twocard"><div class="image"><amp-img class="shadow" noloading height=190 width=297 layout=responsive src="/images/Motion_Detection/FTP-Fritzbox-7490de_06.png"></amp-img></div><div class="content"><p>Open your camera's web user interface and go to Alarm/FTP to input your FTP server information you set up earlier.</p></div><div class="action"><h3>WebUI</h3></div></div><div class="twocard"><div class="image"><amp-img class="shadow" noloading height=190 width=297 layout=responsive src="/images/Motion_Detection/FTP-Fritzbox-7490de_07.png"></amp-img></div><div class="content"><p>Type in your FTP login credentials and server information like described above. Submit before testing the upload.</p></div><div class="action"><h3>FTP Settings</h3></div></div></div><div class="card-container"><div class="twocard"><div class="image"><amp-img class="shadow" noloading height=190 width=297 layout=responsive src="/images/Motion_Detection/FTP-Fritzbox-7490de_08.png"></amp-img></div><div class="content"><p>You will find a single snapshot in your upload directory, after successfully testing the FTP connection.</p></div><div class="action"><h3>Testing</h3></div></div><div class="twocard"><div class="image"><amp-img class="shadow" noloading height=190 width=297 layout=responsive src="/images/Motion_Detection/FTP-Fritzbox-7490de_09.png"></amp-img></div><div class="content"><p>Now you can activate the FTP upload functions for alarm trigger events.</p></div><div class="action"><h3>Alarm Upload</h3></div></div></div></article></div></div> <% include ../_partials/content/_bluenav-general-mobile.ejs %><footer> <% include ../_partials/amp/_amp-footer.ejs %></footer></body></html>